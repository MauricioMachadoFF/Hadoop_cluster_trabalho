TESTE 5: Impacto da Memória dos Containers MapReduce
Data: Fri Nov 14 21:34:01 -03 2025
========================================

=== BASELINE (Map=512MB, Reduce=512MB) ===
Timestamp: Fri Nov 14 21:34:21 -03 2025

Configuração MapReduce:
        <name>mapreduce.map.memory.mb</name>
        <value>512</value>
        <description>Memória para map tasks (MB)</description>
--
        <name>mapreduce.reduce.memory.mb</name>
        <value>512</value>
        <description>Memória para reduce tasks (MB)</description>

Status das Aplicações:
2025-11-15 00:34:24,364 INFO  [main] client.DefaultNoHARMFailoverProxyProvider (DefaultNoHARMFailoverProxyProvider.java:init(64)) - Connecting to ResourceManager at hadoop-master/172.19.0.4:8032
Total number of applications (application-types: [], states: [NEW, NEW_SAVING, SUBMITTED, ACCEPTED, RUNNING, FINISHED, FAILED, KILLED] and tags: []):0
                Application-Id	    Application-Name	    Application-Type	      User	     Queue	             State	       Final-State	       Progress	                       Tracking-URL

----------------------------------------


Executando Job: baseline
WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
2025-11-15 00:34:51,408 INFO  [main] client.DefaultNoHARMFailoverProxyProvider (DefaultNoHARMFailoverProxyProvider.java:init(64)) - Connecting to ResourceManager at hadoop-master/172.19.0.4:8032
2025-11-15 00:34:52,168 INFO  [main] mapreduce.JobResourceUploader (JobResourceUploader.java:disableErasureCodingForPath(907)) - Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/root/.staging/job_1763166809473_0001
2025-11-15 00:34:52,789 INFO  [main] input.FileInputFormat (FileInputFormat.java:listStatus(300)) - Total input files to process : 1
2025-11-15 00:34:53,092 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:submitJobInternal(202)) - number of splits:1
2025-11-15 00:34:53,752 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:printTokens(298)) - Submitting tokens for job: job_1763166809473_0001
2025-11-15 00:34:53,754 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:printTokens(299)) - Executing with tokens: []
2025-11-15 00:34:54,361 INFO  [main] conf.Configuration (Configuration.java:getConfResourceAsInputStream(2854)) - resource-types.xml not found
2025-11-15 00:34:54,363 INFO  [main] resource.ResourceUtils (ResourceUtils.java:addResourcesFileToConf(476)) - Unable to find 'resource-types.xml'.
2025-11-15 00:34:55,574 INFO  [main] impl.YarnClientImpl (YarnClientImpl.java:submitApplication(338)) - Submitted application application_1763166809473_0001
2025-11-15 00:34:55,854 INFO  [main] mapreduce.Job (Job.java:submit(1682)) - The url to track the job: http://hadoop-master:8088/proxy/application_1763166809473_0001/
2025-11-15 00:34:55,856 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1727)) - Running job: job_1763166809473_0001
2025-11-15 00:35:15,495 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1748)) - Job job_1763166809473_0001 running in uber mode : false
2025-11-15 00:35:15,521 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 0% reduce 0%
2025-11-15 00:35:32,597 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 100% reduce 0%
2025-11-15 00:35:41,916 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 100% reduce 100%
2025-11-15 00:35:42,996 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1766)) - Job job_1763166809473_0001 completed successfully
2025-11-15 00:35:43,262 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1773)) - Counters: 54
	File System Counters
		FILE: Number of bytes read=279
		FILE: Number of bytes written=553577
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=286149
		HDFS: Number of bytes written=247
		HDFS: Number of read operations=8
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
		HDFS: Number of bytes read erasure-coded=0
	Job Counters 
		Launched map tasks=1
		Launched reduce tasks=1
		Data-local map tasks=1
		Total time spent by all maps in occupied slots (ms)=25096
		Total time spent by all reduces in occupied slots (ms)=13840
		Total time spent by all map tasks (ms)=12548
		Total time spent by all reduce tasks (ms)=6920
		Total vcore-milliseconds taken by all map tasks=12548
		Total vcore-milliseconds taken by all reduce tasks=6920
		Total megabyte-milliseconds taken by all map tasks=6424576
		Total megabyte-milliseconds taken by all reduce tasks=3543040
	Map-Reduce Framework
		Map input records=2001
		Map output records=36004
		Map output bytes=430043
		Map output materialized bytes=279
		Input split bytes=122
		Combine input records=36004
		Combine output records=20
		Reduce input groups=20
		Reduce shuffle bytes=279
		Reduce input records=20
		Reduce output records=20
		Spilled Records=40
		Shuffled Maps =1
		Failed Shuffles=0
		Merged Map outputs=1
		GC time elapsed (ms)=262
		CPU time spent (ms)=3810
		Physical memory (bytes) snapshot=717217792
		Virtual memory (bytes) snapshot=5530464256
		Total committed heap usage (bytes)=444071936
		Peak Map Physical memory (bytes)=412905472
		Peak Map Virtual memory (bytes)=2763243520
		Peak Reduce Physical memory (bytes)=304312320
		Peak Reduce Virtual memory (bytes)=2767220736
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=286027
	File Output Format Counters 
		Bytes Written=247

Job Status: SUCCESS
Tempo de execução: 60s

$i:	2000
Line	2000
MapReduce	2001
Testing	2000
allocation	2000

=== TEST_LOW (Map=256MB, Reduce=256MB) ===
Timestamp: Fri Nov 14 21:37:07 -03 2025

Configuração MapReduce:
        <name>mapreduce.map.memory.mb</name>
        <value>256</value>
        <description>TESTE: Memória para Map tasks</description>
--
        <name>mapreduce.reduce.memory.mb</name>
        <value>256</value>
        <description>TESTE: Memória para Reduce tasks</description>

Status das Aplicações:
2025-11-15 00:37:10,001 INFO  [main] client.DefaultNoHARMFailoverProxyProvider (DefaultNoHARMFailoverProxyProvider.java:init(64)) - Connecting to ResourceManager at hadoop-master/172.19.0.4:8032
Total number of applications (application-types: [], states: [NEW, NEW_SAVING, SUBMITTED, ACCEPTED, RUNNING, FINISHED, FAILED, KILLED] and tags: []):0
                Application-Id	    Application-Name	    Application-Type	      User	     Queue	             State	       Final-State	       Progress	                       Tracking-URL

----------------------------------------


Executando Job: low_memory
WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
2025-11-15 00:37:40,482 INFO  [main] client.DefaultNoHARMFailoverProxyProvider (DefaultNoHARMFailoverProxyProvider.java:init(64)) - Connecting to ResourceManager at hadoop-master/172.19.0.4:8032
2025-11-15 00:37:41,453 INFO  [main] mapreduce.JobResourceUploader (JobResourceUploader.java:disableErasureCodingForPath(907)) - Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/root/.staging/job_1763166967688_0001
2025-11-15 00:37:42,229 INFO  [main] input.FileInputFormat (FileInputFormat.java:listStatus(300)) - Total input files to process : 1
2025-11-15 00:37:42,540 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:submitJobInternal(202)) - number of splits:1
2025-11-15 00:37:43,018 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:printTokens(298)) - Submitting tokens for job: job_1763166967688_0001
2025-11-15 00:37:43,021 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:printTokens(299)) - Executing with tokens: []
2025-11-15 00:37:43,510 INFO  [main] conf.Configuration (Configuration.java:getConfResourceAsInputStream(2854)) - resource-types.xml not found
2025-11-15 00:37:43,512 INFO  [main] resource.ResourceUtils (ResourceUtils.java:addResourcesFileToConf(476)) - Unable to find 'resource-types.xml'.
2025-11-15 00:37:44,451 INFO  [main] impl.YarnClientImpl (YarnClientImpl.java:submitApplication(338)) - Submitted application application_1763166967688_0001
2025-11-15 00:37:44,797 INFO  [main] mapreduce.Job (Job.java:submit(1682)) - The url to track the job: http://hadoop-master:8088/proxy/application_1763166967688_0001/
2025-11-15 00:37:44,851 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1727)) - Running job: job_1763166967688_0001
2025-11-15 00:38:04,552 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1748)) - Job job_1763166967688_0001 running in uber mode : false
2025-11-15 00:38:04,574 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 0% reduce 0%
2025-11-15 00:38:29,049 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 100% reduce 0%
2025-11-15 00:38:39,692 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 100% reduce 100%
2025-11-15 00:38:41,886 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1766)) - Job job_1763166967688_0001 completed successfully
2025-11-15 00:38:42,256 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1773)) - Counters: 54
	File System Counters
		FILE: Number of bytes read=279
		FILE: Number of bytes written=553577
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=286149
		HDFS: Number of bytes written=247
		HDFS: Number of read operations=8
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
		HDFS: Number of bytes read erasure-coded=0
	Job Counters 
		Launched map tasks=1
		Launched reduce tasks=1
		Data-local map tasks=1
		Total time spent by all maps in occupied slots (ms)=20148
		Total time spent by all reduces in occupied slots (ms)=7241
		Total time spent by all map tasks (ms)=20148
		Total time spent by all reduce tasks (ms)=7241
		Total vcore-milliseconds taken by all map tasks=20148
		Total vcore-milliseconds taken by all reduce tasks=7241
		Total megabyte-milliseconds taken by all map tasks=5157888
		Total megabyte-milliseconds taken by all reduce tasks=1853696
	Map-Reduce Framework
		Map input records=2001
		Map output records=36004
		Map output bytes=430043
		Map output materialized bytes=279
		Input split bytes=122
		Combine input records=36004
		Combine output records=20
		Reduce input groups=20
		Reduce shuffle bytes=279
		Reduce input records=20
		Reduce output records=20
		Spilled Records=40
		Shuffled Maps =1
		Failed Shuffles=0
		Merged Map outputs=1
		GC time elapsed (ms)=969
		CPU time spent (ms)=3310
		Physical memory (bytes) snapshot=642482176
		Virtual memory (bytes) snapshot=5100511232
		Total committed heap usage (bytes)=310378496
		Peak Map Physical memory (bytes)=376233984
		Peak Map Virtual memory (bytes)=2545729536
		Peak Reduce Physical memory (bytes)=266248192
		Peak Reduce Virtual memory (bytes)=2554781696
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=286027
	File Output Format Counters 
		Bytes Written=247

Job Status: SUCCESS
Tempo de execução: 70s

$i:	2000
Line	2000
MapReduce	2001
Testing	2000
allocation	2000

=== TEST_HIGH (Map=1024MB, Reduce=1024MB) ===
Timestamp: Fri Nov 14 21:40:12 -03 2025

Configuração MapReduce:
        <name>mapreduce.map.memory.mb</name>
        <value>1024</value>
        <description>TESTE: Memória para Map tasks</description>
--
        <name>mapreduce.reduce.memory.mb</name>
        <value>1024</value>
        <description>TESTE: Memória para Reduce tasks</description>

Status das Aplicações:
2025-11-15 00:40:15,041 INFO  [main] client.DefaultNoHARMFailoverProxyProvider (DefaultNoHARMFailoverProxyProvider.java:init(64)) - Connecting to ResourceManager at hadoop-master/172.19.0.4:8032
Total number of applications (application-types: [], states: [NEW, NEW_SAVING, SUBMITTED, ACCEPTED, RUNNING, FINISHED, FAILED, KILLED] and tags: []):0
                Application-Id	    Application-Name	    Application-Type	      User	     Queue	             State	       Final-State	       Progress	                       Tracking-URL

----------------------------------------


Executando Job: high_memory
WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
WARNING: log4j.properties is not found. HADOOP_CONF_DIR may be incomplete.
2025-11-15 00:40:41,901 INFO  [main] client.DefaultNoHARMFailoverProxyProvider (DefaultNoHARMFailoverProxyProvider.java:init(64)) - Connecting to ResourceManager at hadoop-master/172.19.0.4:8032
2025-11-15 00:40:42,677 INFO  [main] mapreduce.JobResourceUploader (JobResourceUploader.java:disableErasureCodingForPath(907)) - Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/root/.staging/job_1763167149468_0001
2025-11-15 00:40:43,449 INFO  [main] input.FileInputFormat (FileInputFormat.java:listStatus(300)) - Total input files to process : 1
2025-11-15 00:40:43,677 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:submitJobInternal(202)) - number of splits:1
2025-11-15 00:40:44,100 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:printTokens(298)) - Submitting tokens for job: job_1763167149468_0001
2025-11-15 00:40:44,102 INFO  [main] mapreduce.JobSubmitter (JobSubmitter.java:printTokens(299)) - Executing with tokens: []
2025-11-15 00:40:44,579 INFO  [main] conf.Configuration (Configuration.java:getConfResourceAsInputStream(2854)) - resource-types.xml not found
2025-11-15 00:40:44,582 INFO  [main] resource.ResourceUtils (ResourceUtils.java:addResourcesFileToConf(476)) - Unable to find 'resource-types.xml'.
2025-11-15 00:40:45,563 INFO  [main] impl.YarnClientImpl (YarnClientImpl.java:submitApplication(338)) - Submitted application application_1763167149468_0001
2025-11-15 00:40:45,820 INFO  [main] mapreduce.Job (Job.java:submit(1682)) - The url to track the job: http://hadoop-master:8088/proxy/application_1763167149468_0001/
2025-11-15 00:40:45,822 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1727)) - Running job: job_1763167149468_0001
2025-11-15 00:41:05,165 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1748)) - Job job_1763167149468_0001 running in uber mode : false
2025-11-15 00:41:05,199 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 0% reduce 0%
2025-11-15 00:41:21,435 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 100% reduce 0%
2025-11-15 00:41:31,867 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1755)) -  map 100% reduce 100%
2025-11-15 00:41:34,026 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1766)) - Job job_1763167149468_0001 completed successfully
2025-11-15 00:41:34,308 INFO  [main] mapreduce.Job (Job.java:monitorAndPrintJob(1773)) - Counters: 54
	File System Counters
		FILE: Number of bytes read=279
		FILE: Number of bytes written=553581
		FILE: Number of read operations=0
		FILE: Number of large read operations=0
		FILE: Number of write operations=0
		HDFS: Number of bytes read=286149
		HDFS: Number of bytes written=247
		HDFS: Number of read operations=8
		HDFS: Number of large read operations=0
		HDFS: Number of write operations=2
		HDFS: Number of bytes read erasure-coded=0
	Job Counters 
		Launched map tasks=1
		Launched reduce tasks=1
		Data-local map tasks=1
		Total time spent by all maps in occupied slots (ms)=46872
		Total time spent by all reduces in occupied slots (ms)=30844
		Total time spent by all map tasks (ms)=11718
		Total time spent by all reduce tasks (ms)=7711
		Total vcore-milliseconds taken by all map tasks=11718
		Total vcore-milliseconds taken by all reduce tasks=7711
		Total megabyte-milliseconds taken by all map tasks=11999232
		Total megabyte-milliseconds taken by all reduce tasks=7896064
	Map-Reduce Framework
		Map input records=2001
		Map output records=36004
		Map output bytes=430043
		Map output materialized bytes=279
		Input split bytes=122
		Combine input records=36004
		Combine output records=20
		Reduce input groups=20
		Reduce shuffle bytes=279
		Reduce input records=20
		Reduce output records=20
		Spilled Records=40
		Shuffled Maps =1
		Failed Shuffles=0
		Merged Map outputs=1
		GC time elapsed (ms)=273
		CPU time spent (ms)=3990
		Physical memory (bytes) snapshot=657809408
		Virtual memory (bytes) snapshot=6437978112
		Total committed heap usage (bytes)=466616320
		Peak Map Physical memory (bytes)=353554432
		Peak Map Virtual memory (bytes)=3215302656
		Peak Reduce Physical memory (bytes)=304254976
		Peak Reduce Virtual memory (bytes)=3222675456
	Shuffle Errors
		BAD_ID=0
		CONNECTION=0
		IO_ERROR=0
		WRONG_LENGTH=0
		WRONG_MAP=0
		WRONG_REDUCE=0
	File Input Format Counters 
		Bytes Read=286027
	File Output Format Counters 
		Bytes Written=247

Job Status: SUCCESS
Tempo de execução: 60s

$i:	2000
Line	2000
MapReduce	2001
Testing	2000
allocation	2000

